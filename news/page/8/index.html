<!doctype html>
<html lang="en">

<meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="alternate" type="application/atom+xml" href="/news/feed.xml" title="Ruma" />

<meta http-equiv="Content-Security-Policy" content="
    default-src 'self';
    script-src 'none';
    style-src 'self' 'unsafe-inline';
    frame-src 'none'">

<title>News | Ruma</title>

<link rel="stylesheet" href="/normalize.css">
<link rel="stylesheet" href="/site.css">

<nav class="site-nav">
    <ul>
    
        <li><a href="&#x2F;">Home</a></li>
    
        <li><a href="&#x2F;news&#x2F;">News</a></li>
    
        <li><a href="&#x2F;projects&#x2F;">Projects</a></li>
    
        <li><a href="&#x2F;contributing&#x2F;">How to Contribute</a></li>
    
        <li><a href="https:&#x2F;&#x2F;liberapay.com&#x2F;ruma&#x2F;">Donate on Liberapay</a></li>
    
        <li><a href="&#x2F;docs&#x2F;">Documentation</a></li>
    
    </ul>
</nav>

<div class="page">
    

<main class="content">
    <h1 class="section-title">
        News
        <a href="/news/feed.xml"><svg viewBox="0 0 1536 1536" width="26" height="26" xmlns="http://www.w3.org/2000/svg">
    <title>News feed (Atom)</title>
    <path d="M384 1344c0 106-86 192-192 192S0 1450 0 1344s86-192 192-192 192 86 192 192zm512 123c1 18-5 35-17 48-12 14-29 21-47 21H697c-33 0-60-25-63-58-29-305-271-547-576-576-33-3-58-30-58-63V704c0-18 7-35 21-47 11-11 27-17 43-17h5c213 17 414 110 565 262 152 151 245 352 262 565zm512 2c1 17-5 34-18 47-12 13-28 20-46 20h-143c-34 0-62-26-64-60C1104 895 641 432 60 398c-34-2-60-30-60-63V192c0-18 7-34 20-46 12-12 28-18 44-18h3c350 18 679 165 927 414 249 248 396 577 414 927z"/>
</svg>
</a> 
    </h1>
    

    
        <article itemscope itemtype="http://schema.org/BlogPosting">
            
<header class="post-header">
    <h1 class="post-title">
        <a href="https://www.ruma.io/news/this-week-in-ruma-2016-06-12/" itemprop="headline">
            This Week in Ruma
        </a>
    </h1>
    <small>
        › published on
        <time datetime="2016-06-12" itemprop="datePublished">2016-06-12</time>
        by
        <span class="author" itemprop="author">Jimmy Cuadra</span>
    </small>
</header>

            <p>In addition to the bulleted highlights listed below, major work was done this week to help the community get involved in Ruma development.
The Git repository now includes contribution guidelines, as well as a document with a chart detailing all the API endpoints in the Matrix specification and the current status of support for each in Ruma.
Each endpoint in the chart links to a tracking issue on GitHub, offering a place for contributors to announce their interest in working on the endpoint and to discuss implementation.
A few additional issues were added to the issue tracker to give additional ideas for ways people interested in contributing can help.
These issues are listed below in the &quot;contribution opportunities&quot; section.</p>
<p>Lastly, my partner Leah (who works professionally as a technical writer) and I spent most of the weekend working on a new documentation website for Ruma.
The site will include Ruma's user guide, as well as a section dedicated to introducing and explaining the concepts of Matrix.
With the launch of Vector (see &quot;Matrix at large&quot; below) this week, word about Matrix is going to start to spread faster, and Matrix is in dire need of very clear explanations that are targeted at non-technical users.
We are being extremely careful with the content of this Matrix concept documentation, choosing our terminology, analogies, and examples in a way that won't assume too much about the reader's knowledge and won't overload them with buzzwords without explaining what they mean using words and concepts commonly understood by everyone.
I'm really excited to launch this new documentation site because I think it's going to be very effective in helping both technical and non-technical people understand what Matrix is, how it works, and why someone would want to use it.</p>
<h2 id="notable-changes-to-ruma">Notable changes to <code>ruma</code></h2>
<ul>
<li><code>POST /createRoom</code>: Add support for the room's initial canonical alias.</li>
<li><code>POST /createRoom</code>: Add support for setting the room's visibility in the server's public room directory.</li>
<li>Add support for configuration files in TOML and YAML formats.</li>
<li>Add CONTRIUBTING and STATUS documents as well as revised README content.</li>
</ul>
<h2 id="notable-changes-to-www-ruma-io">Notable changes to <code>www.ruma.io</code></h2>
<ul>
<li>Revised the website's style in preparation for the documenation sub-site.</li>
</ul>
<h2 id="new-contributors">New contributors</h2>
<ul>
<li><a href="https://github.com/mujx">mujx</a></li>
</ul>
<h2 id="contribution-opportunities">Contribution opportunities</h2>
<ul>
<li><a href="https://github.com/ruma/ruma/issues/66">66</a>: Add test helper for creating a user and returning its access token</li>
<li><a href="https://github.com/ruma/ruma/issues/67">67</a>: Create test database and run migrations from Rust</li>
</ul>
<h2 id="matrix-at-large">Matrix at large</h2>
<p>Two members of the Matrix team were in San Francisco this week for <a href="http://www.decentralizedweb.net/">Decentralized Web Summit</a>.
The most exciting announcement was that <a href="https://vector.im/">Vector</a>, a slick Matrix client available as a web app, iOS app, and Android app, is now in open beta!
A blog post, <a href="https://medium.com/@Vector/say-hello-to-vector-2d33b23a787#.5zf8xd93f">Say Hello To Vector!</a> was published alongside the announcement at the conference.
You can try Vector by chatting with us in the <a href="https://vector.im/beta/#/room/#ruma:matrix.org">room for Ruma</a>!</p>
<p>On Wednesday evening, I met the Matrix team and some other Matrix enthusiasts in the area for dinner near the Internet Archive's office.
It was great to meet everyone in person.
We had some good discussions about Matrix, especially about how to address the risk of spam and abuse in the Matrix network using a reputation system.</p>
<p>New issues opened for the Matrix specification:</p>
<ul>
<li>
<p><a href="https://matrix.org/jira/browse/SPEC-409">SPEC-409</a>: Enumerate all events created when a room is created</p>
</li>
<li>
<p><a href="https://matrix.org/jira/browse/SPEC-411">SPEC-411</a>: Directory list API missing from the spec</p>
<p>(I later learned this was already reported in <a href="https://matrix.org/jira/browse/SPEC-370">SPEC-370</a>: We need to spec the new /directory/room/list API)</p>
</li>
</ul>

        </article>
    
        <article itemscope itemtype="http://schema.org/BlogPosting">
            
<header class="post-header">
    <h1 class="post-title">
        <a href="https://www.ruma.io/news/this-week-in-ruma-2016-06-05/" itemprop="headline">
            This Week in Ruma
        </a>
    </h1>
    <small>
        › published on
        <time datetime="2016-06-05" itemprop="datePublished">2016-06-05</time>
        by
        <span class="author" itemprop="author">Jimmy Cuadra</span>
    </small>
</header>

            <h2 id="notable-changes-to-ruma">Notable changes to <code>ruma</code></h2>
<ul>
<li>
<p>Add initial version of the <code>/createRoom</code> endpoint.</p>
<p>This preliminary version of room creation takes no parameters and just returns the ID of the newly created room.</p>
</li>
</ul>
<h2 id="notable-changes-to-ruma-events">Notable changes to <code>ruma-events</code></h2>
<ul>
<li>
<p>Remove event traits.</p>
<p><code>Event</code>, <code>RoomEvent</code>, and <code>StateEvent</code> are no longer traits.
Instead, each event type just has the necessary fields.
This will be revised to use <a href="https://github.com/rust-lang/rfcs/pull/1546">RFC #1546</a> if it is accepted.</p>
</li>
<li>
<p>Make all event type fields public.</p>
</li>
<li>
<p>Derive <code>Debug</code>, <code>Deserialize</code>, and <code>Serialize</code> for all types.</p>
</li>
<li>
<p>Add types for all <em>m.room.message</em> and all its subtypes.</p>
</li>
</ul>
<h2 id="matrix-at-large">Matrix at large</h2>
<p>Next week, some of the Matrix core team will be visiting San Francisco (from London) for <a href="http://www.decentralizedweb.net/">Decentralized Web Summit</a>.
Some bay area Matrix developers are planning to get together to meet in person and chat about Matrix.
If you live in the bay area and would like to join us, please come chat in <a href="https://vector.im/beta/#/room/#sv:matrix.org">#sv:matrix.org</a> and help pick a time and place!</p>

        </article>
    
        <article itemscope itemtype="http://schema.org/BlogPosting">
            
<header class="post-header">
    <h1 class="post-title">
        <a href="https://www.ruma.io/news/this-week-in-ruma-2016-05-29/" itemprop="headline">
            This Week in Ruma
        </a>
    </h1>
    <small>
        › published on
        <time datetime="2016-05-29" itemprop="datePublished">2016-05-29</time>
        by
        <span class="author" itemprop="author">Jimmy Cuadra</span>
    </small>
</header>

            <h2 id="from-the-editor">From the editor</h2>
<p>In addition to the changes to <code>ruma</code> enumerated below, there was some great progress on the future user-facing documentation for Ruma.
My partner, who works as a technical writer, helped me brainstorm and outline what information people would need to understand Matrix and Ruma, how to get a copy of Ruma, configure it, and deploy it.
As always, needing to explain something simply to someone else forces you to understand it at a deeper level yourself.
I think the project is going to benefit greatly from some longer form explanations of of the what, why, and how of Matrix that aren't targeted at technical people.</p>
<h2 id="notable-changes-to-ruma">Notable changes to <code>ruma</code></h2>
<ul>
<li>
<p>Usage of the <code>try!</code> macro has been converted to using the new question mark syntax.</p>
<p>Use of this unstable feature is one nice benefit of Ruma targeting nightly Rust.</p>
</li>
<li>
<p>Added support for authentication with an access token.</p>
<p>This is the mechanism which almost all endpoints that require authentication use.</p>
</li>
<li>
<p>Added the <code>/logout</code> endpoint which revokes all access tokens associated with the user.</p>
</li>
<li>
<p>Added the <code>/account/password</code> endpoint which lets the user change their account password.</p>
<p>This endpoint uses both user-interactive authentication and access token authentication.
The reasons for this were not clear to me, so I discussed it in #matrix-dev:matrix.org, and was able to distill the results of the discussion into <a href="https://matrix.org/jira/browse/SPEC-407">SPEC-407</a>.</p>
</li>
<li>
<p>Moved and renamed various free functions into static methods on the types that they manipulate.</p>
</li>
<li>
<p>Filled in some missing API documentation and added the <code>#![deny(missing_docs)]</code> attribute to make sure docs are added as new items are.</p>
</li>
</ul>
<h2 id="matrix-at-large">Matrix at large</h2>
<p>This week there was a story posted to Hacker News about how Google failed to recognize the value of Gchat, which resulted in the usual discussion of chat services that exist today.
I left a comment encouraging people to look at Matrix, and it generated a good amount of discussion and publicity for the project.
Be sure to read <a href="https://news.ycombinator.com/item?id=11794914">the thread</a>!</p>

        </article>
    
        <article itemscope itemtype="http://schema.org/BlogPosting">
            
<header class="post-header">
    <h1 class="post-title">
        <a href="https://www.ruma.io/news/this-week-in-ruma-2016-05-22/" itemprop="headline">
            This Week in Ruma
        </a>
    </h1>
    <small>
        › published on
        <time datetime="2016-05-22" itemprop="datePublished">2016-05-22</time>
        by
        <span class="author" itemprop="author">Jimmy Cuadra</span>
    </small>
</header>

            <h2 id="from-the-editor">From the editor</h2>
<p>Lots of progress this week!
As expected, I finished the <code>/login</code> endpoint, so I can now move on to the real stuff: rooms and the event stream.
This week also saw two nice milestones:
Ruma's first pull request was merged, and I successfully registered an account with a locally running Ruma server via a locally running <a href="https://vector.im/">Vector</a> client.
(The latter also uncovered an undocumented API that Vector was attempting to use which I've brought up with the Matrix team.)</p>
<p>Before taking the plunge into rooms and events, I'm taking some time to think and plan about how to structure the data, and have been talking with the Matrix team about how Synapse handles things, lessons learned, and the trade offs of different approaches.
A few months ago, Erik Johnston of the core team wrote up some <a href="https://gist.github.com/erikjohnston/ae60767679278c0c4519">notes on data storage in Matrix</a> which has been very useful in this planning stage.
It's a great read if you're interested in some of the tricky issues in Matrix development.</p>
<p>There was also a little discussion on how difficult it is to represent certain JSON structures in the API as Rust types.
There are several data structures in the API that are effectively enums, but can't be automatically deserialized by Serde because of two things:
<a href="https://github.com/serde-rs/serde/issues/251">how Serde currently handles enums</a> and the fact that variants can only be determined by examining the values of some of their fields.
The latter currently requires manual implementation of deserialization, which gets cumbersome very quickly.
The way I'm probably going to address this is to deserialize these types of data structures to an intermediate type so simple deserialization from JSON can be separated from higher level detection and validation logic.
To that end, I built the <a href="https://github.com/jimmycuadra/validations">validations</a> library, which provides both an interface for validating a type, and types for representing validation errors.</p>
<h2 id="notable-changes-to-ruma">Notable changes to <code>ruma</code></h2>
<ul>
<li>Finished a simple working version of the <code>/login</code> API endpoint.</li>
<li>Added <a href="https://en.wikipedia.org/wiki/Cross-origin_resource_sharing">CORS</a> support to all endpoints.</li>
<li>Reexported the Iron handlers for API endpoints from their parent module to make imports a little less verbose.</li>
<li>Renamed the <code>FinalConfig</code> type to <code>Config</code>, and the previously named <code>Config</code> to the now private <code>RawConfig</code> type.</li>
<li>Revised the README with full documentation of the configuration file's format along with some other improvements.</li>
</ul>
<h2 id="new-contributors">New contributors</h2>
<ul>
<li><a href="https://github.com/jooert">Johannes Oertel</a></li>
</ul>

        </article>
    
        <article itemscope itemtype="http://schema.org/BlogPosting">
            
<header class="post-header">
    <h1 class="post-title">
        <a href="https://www.ruma.io/news/this-week-in-ruma-2016-05-15/" itemprop="headline">
            This Week in Ruma
        </a>
    </h1>
    <small>
        › published on
        <time datetime="2016-05-15" itemprop="datePublished">2016-05-15</time>
        by
        <span class="author" itemprop="author">Jimmy Cuadra</span>
    </small>
</header>

            <h2 id="from-the-editor">From the editor</h2>
<p>There were only a few commits this week, but there was very good progress on the test suite and some internals.
After trying several ways to work around libtest's lack of global setup and teardown hooks, and some issues with the way each test was running an Iron server in a thread keeping database connections open forever, I decided to move the setup and teardown outside of the Rust code itself.
I explored the code of libtest and libsyntax and got to understand how it works and some of its limitations.
I might be creating an RFC for Rust soon to give the programmer independent control of the test collector and the test runner, which are currently bound together under the <code>--test</code> flag (AKA <code>--cfg test</code>.)</p>
<p>Now the PostgreSQL Docker container is started and stopped, and database migraitons are run from a shell script which wraps <code>cargo test</code>.
The Iron app was similarly decoupled from the Iron server, so that integration testing can be done with <code>iron-test</code> without ever starting an actual server.
Finally, I made some more progress on Matrix's user-interactive authentication system and got part of the <code>/login</code> endpoint completed.
I expect it to be fully functional by next week.</p>
<h2 id="notable-changes-to-ruma">Notable changes to <code>ruma</code></h2>
<ul>
<li>
<p>Cleaned up test suite</p>
<p>Complicated setup and teardown extracted from the Rust code.
Test cases moved into the modules they test, rather than within a <code>tests</code>-directory-style module in <code>src/test</code>.</p>
</li>
<li>
<p>Introduced <code>iron-test</code> to facilitate testing</p>
<p>The test suite now has a single support type, <code>test::Test</code>, which does per-test setup and teardown via RAII and provides succinct helper methods for making requests and testing the responses.</p>
</li>
<li>
<p>Initial version of the <code>/login</code> API added.</p>
<p>The logic is all there, but there are some places where deserialization of the types used in the request body must be manually implemented because they differ in structure from what Serde can do with its custom derive attributes.</p>
</li>
</ul>
<h2 id="matrix-at-large">Matrix at large</h2>
<p>The sections about authentication, registration, and login in the spec have seen some very nice improvements recently, but there are still some parts that are misleading or unclear.
I'm in the process of getting a few things clarified that will help finally nail down how these various APIs should work.</p>

        </article>
    
</main>

<nav class="pagination">
    <div class="prev">
        
        <a href="https:&#x2F;&#x2F;www.ruma.io&#x2F;news&#x2F;page&#x2F;7&#x2F;"><span aria-hidden="true">&larr;</span> Newer entries</a>
        
    </div>
    <span class="page-number">8 / 9</span>
    <div class="next">
        
        <a href="https:&#x2F;&#x2F;www.ruma.io&#x2F;news&#x2F;page&#x2F;9&#x2F;">Older entries <span aria-hidden="true">&rarr;</span></a>
        
    </div>
</nav>



</div>

</html>
